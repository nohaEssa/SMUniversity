
@{
    ViewBag.Title = "تقرير دخل المحاضر";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<link href="~/Content/DataTables/css/jquery.dataTables.min.css" rel="stylesheet" />
<link href="~/Content/DataTables/css/buttons.dataTables.min.css" rel="stylesheet" />

<script src="~/Scripts/DataTables/jquery.dataTables.js"></script>
<script src="https://editor.datatables.net/extensions/Editor/js/dataTables.editor.min.js"></script>
@*
<script src="~/Scripts/DataTables/dataTables.buttons.min.js"></script>*@
<script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.1.3/jszip.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.32/pdfmake.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.32/vfs_fonts.js"></script>
<script src="https://cdn.datatables.net/buttons/1.5.6/js/dataTables.buttons.min.js"></script>
<script src="https://cdn.datatables.net/buttons/1.5.6/js/buttons.print.min.js"></script>


<div id="main-content">
    <div class="container-fluid">
        <div class="row">
            <div class="col-md-12">
                <!--Top header start-->
                <h3 class="ls-top-header">تقرير دخل المحاضر</h3>
                <!--Top header end -->
                <!--Top breadcrumb start -->
                <ol class="breadcrumb">
                    <li><a href="/Home/Index"><i class="fa fa-home"></i></a></li>
                    <li><a href="/Area/Index">الرئيسية</a></li>
                    <li><a href="/Reports/CreateLecturerIncomeReport">تقرير دخل المحاضر</a></li>
                </ol>
                <!--Top breadcrumb start -->
            </div>
        </div>
        <!-- Main Content Element  Start-->

        <div class="row">
            <div class="col-md-12">
                <div class="panel panel-default">
                    <div class="panel-heading">
                        <h3 class="panel-title">إنشاء تقرير دخل المحاضر </h3>
                    </div>

                    <form id="AddNewSession" class="form-horizontal ls_form" enctype='multipart/form-data'>
                        <div class="panel-body form_view">

                            <div class="row ls_divider">
                                <div class="form-group">
                                    <label class="col-md-1 control-label">المحاضر</label>
                                    <div class="col-md-2">
                                        <select class="form-control" id="LecturerID" name="LecturerID" required>
                                            <option value="0">اسم المحاضر</option>
                                            @foreach (var uni in ViewBag._LecturersList)
                                            {
                                            <option value="@uni.ID">  @uni.FirstNameAr @uni.SecondNameAr </option>
                                            }
                                        </select>
                                    </div>
                                    <label class="col-md-1 control-label">  من تاريخ </label>
                                    <div class="col-md-2">
                                        <input id="date_timepicker_start" class="form-control" type="text" name="StrtDate" required />
                                    </div>
                                    <label class="col-md-1 control-label">  الى تاريخ </label>
                                    <div class="col-md-2">
                                        <input id="date_timepicker_end" class="form-control" type="text" name="EndDate" required />
                                    </div>
                                    <div class="col-md-1">
                                    </div>
                                    <div class="col-md-2">
                                        <input type="button" value="بحث" class="btn btn-circle green" style="width: 120px;margin-bottom: 10px;" onclick="javascript: SearchLecturerIncome();" />
                                    </div>

                                </div>
                            </div>
                        </div>
                    </form>





                    <div id="Printdiv">

                        <div class="row invoice-logo" style="display:none;" id="logoDiv">

                            <div class="col-xs-3" style="float:right;">
                                <p style="text-align: center; font-size: 15px; margin-top: 55px;">
                            </div>
                            <div class="col-xs-6 invoice-logo-space" style="align-self:center;" id="UniversityView">

                                <img src="~/Content/Images/invoice_logo.png" class="img-responsive" alt="" style="align-self:center; width:100%" />
                                <p style="text-align:center; font-size:15px;">تقرير دخل المحاضر</p>

                            </div>
                            <div class="col-xs-3" style="float:left;">
                            </div>
                        </div>


                        <hr style="margin-top: 0px;" />
                        <table class="table table-bordered table-hover" style="display:none;width:100%" id="LecturerDetails">
                            <tbody>
                                <tr   id="DetailsDate"></tr>
                                <tr id="LecturerName"></tr>
                                <tr id="PhoneNumber"></tr>
                                <tr id="Address"></tr>
                                <tr id="TotalLecturerIncome"></tr>
                            </tbody>
                        </table>

                        <hr style="margin-top: 0px;" />
                        <table class="table table-bordered table-hover" style="display:none;width:100%" id="SessionsDetails">
                                <tr  id="SessionsCount"></tr>
                                <tr id="LecturerPricePerSession"></tr>
                                <tr id="TotalLecturerSessionPrice"></tr>
                        </table>                       


                        <hr style="margin-top: 0px;" />
                        <table class="table table-bordered table-hover" style="display:none;" id="CoursesDetails">
                            <tbody>
                                <tr   id="CoursesCount"></tr>
                                <tr id="LecturerPricePerCourse"></tr>
                                <tr id="TotalLecturerCoursePrice"></tr>
                            </tbody>
                        </table>         

                        <hr style="margin-top: 0px;" />
                        <table class="table table-bordered table-hover" style="display:none;width:100%" id="PercentageDetails">
                            <tbody>
                                <tr   id="PercentageSessionCount"></tr>
                                <tr id="PercentageSessionSumPrice"></tr>
                                <tr id="LecturerPercentagePerSession"></tr>
                                <tr id="TotalLecturerPercentagePrice"></tr>
                            </tbody>
                        </table>

                        <hr style="margin-top: 0px;" />
                        <table class="table table-bordered table-hover" style="display:none;width:100%" id="FromLecturerSideDetails">
                            <tbody>
                                <tr id="FromLecturerSideSessionCount"></tr>
                                <tr id="FromLecturerSidePerSession"></tr>
                                <tr id="TotalFromLecturerSidePrice"></tr>
                            </tbody>
                        </table>



                    </div>

                </div>
            </div>
        </div>
        <div class="row ls_divider">
            <div class="form-group">
                <div id="printbtn" style="display:none;" class="col-md-2 invoice-block">
                    <a class="btn btn-circle default purple-stripe hidden-print" style="width:160px;" onclick="javascript: printdiv('Printdiv');">
                        طباعه <i class="fa fa-print"></i>
                    </a>
                </div>
                <div class="col-md-10">
                </div>

            </div>
        </div>
    </div>
</div>





<script>
    $(document).ready(function () {
        $('#myDataTable').DataTable({
            //'dom': 'Bfrtip',
            //'buttons': [
            //    'print'
            //],
            "paging": false,
            "ordering": false,
            "info": false,
            "searching": false
        });
    });


    function printdiv(printpage){
        var headstr = "<html><head><title></title></head><body>";
        var footstr = "</body>";
        var newstr = document.all.item(printpage).innerHTML;
        var oldstr = document.body.innerHTML;
        document.body.innerHTML = headstr + newstr + footstr;
        window.print();
        document.body.innerHTML = oldstr;
        return false;
    }
</script>

<script src="~/Scripts/Reports/CreateLecturerIncomeReport.js"></script>
